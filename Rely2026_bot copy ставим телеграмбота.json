{
  "name": "Rely2026_bot copy —Å—Ç–∞–≤–∏–º —Ç–µ–ª–µ–≥—Ä–∞–º–±–æ—Ç–∞",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "*"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.2,
      "position": [
        -1216,
        -112
      ],
      "id": "551d5d1d-e224-4aa0-98e8-aa59467f5de5",
      "name": "Telegram Trigger",
      "webhookId": "a3ebfa6b-5d56-49d5-8127-58bd3d680cc2",
      "credentials": {
        "telegramApi": {
          "id": "Ejv7EdkKEnx1aMu6",
          "name": "Rely2026_bot"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# items ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è n8n, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ item'—ã\n\nphoto_list = []\n\n# –ø—Ä–æ—Å—Ç–æ–π —Å—á—ë—Ç—á–∏–∫ id_fotos\ncurrent_id = 1\n\nfor it in items:\n    foto = dict(it[\"json\"]) if \"json\" in it else {}\n\n    # –¥–æ–±–∞–≤–ª—è–µ–º id_fotos\n    foto[\"id_fotos\"] = current_id\n    current_id += 1\n\n    photo_list.append(foto)\n\n# –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç:\nreturn [\n    {\n        \"json\": {\n            \"fotos\": photo_list\n        }\n    }\n]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -48,
        -224
      ],
      "id": "c425f6a8-084e-4172-9fcc-3a34bb973961",
      "name": "Code in Python (Beta)"
    },
    {
      "parameters": {
        "amount": "=5"
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        -272,
        -528
      ],
      "id": "afdb6fad-9550-40f8-a6a1-ae04695efc19",
      "name": "Wait1",
      "webhookId": "1d9de6bf-7090-43ef-9945-71424eef35eb"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import re\n\n# –ë–µ—Ä—ë–º –ø–µ—Ä–≤—ã–π –≤—Ö–æ–¥—è—â–∏–π item –∏ –≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º caption\nitems_in = items\ncaption = (items_in[0].get(\"json\", {}).get(\"caption\") or \"\").strip()\n\nLETTER_ORDER = [\"XXS\", \"XS\", \"S\", \"M\", \"L\", \"XL\", \"XXL\"]\n\n# –ë–∞–∑–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ (RU/EN) + —Ç–∏–ø—ã/–º–∞—Ç–µ—Ä–∏–∞–ª—ã\nCOLOUR_KEYWORDS = [\n    # —Ä—É—Å—Å–∫–∏–µ —Ü–≤–µ—Ç–∞\n    \"—á–µ—Ä–Ω—ã–π\", \"—á—ë—Ä–Ω—ã–π\", \"—á–µ—Ä–Ω–∞—è\", \"—á—ë—Ä–Ω–∞—è\", \"—á–µ—Ä–Ω–æ–µ\", \"—á—ë—Ä–Ω–æ–µ\",\n    \"–±–µ–ª—ã–π\", \"–±–µ–ª–∞—è\", \"–±–µ–ª–æ–µ\",\n    \"—Å–µ—Ä—ã–π\", \"—Å–µ—Ä–∞—è\", \"—Å–µ—Ä–æ–µ\",\n    \"–∫—Ä–µ–º–æ–≤—ã–π\", \"–∫—Ä–µ–º–æ–≤–∞—è\", \"–∫—Ä–µ–º–æ–≤–æ–µ\",\n    \"–º–æ–ª–æ—á–Ω—ã–π\", \"–º–æ–ª–æ—á–Ω–∞—è\", \"–º–æ–ª–æ—á–Ω–æ–µ\",\n    \"–±–µ–∂–µ–≤—ã–π\", \"–±–µ–∂–µ–≤–∞—è\", \"–±–µ–∂–µ–≤–æ–µ\",\n    \"–∫–æ—Ä–∏—á–Ω–µ–≤—ã–π\", \"–∫–æ—Ä–∏—á–Ω–µ–≤–∞—è\", \"–∫–æ—Ä–∏—á–Ω–µ–≤–æ–µ\",\n    \"–∫–∞—Ä–∞–º–µ–ª—å–Ω—ã–π\", \"–∫–∞—Ä–∞–º–µ–ª—å–Ω–∞—è\",\n    \"—Ä—ã–∂–∏–π\", \"—Ä—ã–∂–∞—è\",\n    \"–∑–æ–ª–æ—Ç–æ–π\", \"–∑–æ–ª–æ—Ç–∞—è\",\n    \"—Å–µ—Ä–µ–±—Ä–∏—Å—Ç—ã–π\", \"—Å–µ—Ä–µ–±—Ä–∏—Å—Ç–∞—è\",\n    \"–∫—Ä–∞—Å–Ω—ã–π\", \"–∫—Ä–∞—Å–Ω–∞—è\",\n    \"–±–æ—Ä–¥–æ–≤—ã–π\", \"–≤–∏–Ω–Ω—ã–π\",\n    \"—Ä–æ–∑–æ–≤—ã–π\", \"—Ä–æ–∑–æ–≤–∞—è\",\n    \"–æ—Ä–∞–Ω–∂–µ–≤—ã–π\", \"–æ—Ä–∞–Ω–∂–µ–≤–∞—è\",\n    \"–∂–µ–ª—Ç—ã–π\", \"–∂–µ–ª—Ç–∞—è\", \"–∂—ë–ª—Ç—ã–π\", \"–∂—ë–ª—Ç–∞—è\",\n    \"–∑–µ–ª–µ–Ω—ã–π\", \"–∑–µ–ª—ë–Ω—ã–π\", \"–∑–µ–ª–µ–Ω–∞—è\", \"–∑–µ–ª—ë–Ω–∞—è\",\n    \"—Ö–∞–∫–∏\",\n    \"–≥–æ–ª—É–±–æ–π\", \"–≥–æ–ª—É–±–∞—è\",\n    \"—Å–∏–Ω–∏–π\", \"—Å–∏–Ω—è—è\",\n    \"—Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π\", \"—Ç—ë–º–Ω–æ-—Å–∏–Ω–∏–π\",\n    \"–±–∏—Ä—é–∑–æ–≤—ã–π\",\n    \"—Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π\", \"–ª–∞–≤–∞–Ω–¥–æ–≤—ã–π\",\n    \"—Å–µ—Ä–æ-–±–µ–∂–µ–≤—ã–π\", \"—Å–µ—Ä–æ –±–µ–∂–µ–≤—ã–π\",\n    # english\n    \"black\", \"white\", \"grey\", \"gray\", \"beige\", \"brown\",\n    \"camel\", \"ivory\", \"cream\", \"milk\", \"red\", \"wine\",\n    \"burgundy\", \"pink\", \"orange\", \"yellow\", \"green\",\n    \"khaki\", \"blue\", \"navy\", \"sky blue\", \"turquoise\",\n    \"purple\", \"lavender\", \"gold\", \"silver\",\n]\n\nTYPE_KEYWORDS = [\n    # –º–∞—Ç–µ—Ä–∏–∞–ª—ã / —Ç–∏–ø—ã RU\n    \"–∫–æ–∂–∞–Ω—ã–π\", \"–∫–æ–∂–∞–Ω–∞—è\", \"–∫–æ–∂–∞–Ω–æ–µ\", \"–∫–æ–∂–∞\",\n    \"—ç–∫–æ-–∫–æ–∂–∞\", \"—ç–∫–æ–∫–æ–∂–∞\", \"–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–∞—è –∫–æ–∂–∞\",\n    \"–∑–∞–º—à–µ–≤—ã–π\", \"–∑–∞–º—à–µ–≤–∞—è\", \"–∑–∞–º—à–∞\",\n    \"–±–∞—Ä—Ö–∞—Ç–Ω—ã–π\", \"–±–∞—Ä—Ö–∞—Ç–Ω–∞—è\", \"–±–∞—Ä—Ö–∞—Ç\",\n    \"–¥–∂–∏–Ω—Å–æ–≤—ã–π\", \"–¥–∂–∏–Ω—Å–æ–≤–∞—è\", \"–¥–µ–Ω–∏–º\",\n    \"—Ç—Ä–∏–∫–æ—Ç–∞–∂–Ω—ã–π\", \"—Ç—Ä–∏–∫–æ—Ç–∞–∂–Ω–∞—è\", \"—Ç—Ä–∏–∫–æ—Ç–∞–∂\",\n    \"–ª—å–Ω—è–Ω–æ–π\", \"–ª—å–Ω—è–Ω–∞—è\", \"–ª–µ–Ω\", \"–ª—ë–Ω\",\n    \"—à–µ—Ä—Å—Ç—è–Ω–æ–π\", \"—à–µ—Ä—Å—Ç—è–Ω–∞—è\", \"—à–µ—Ä—Å—Ç—å\",\n    \"—Ö–ª–æ–ø–∫–æ–≤—ã–π\", \"—Ö–ª–æ–ø–∫–æ–≤–∞—è\", \"—Ö–ª–æ–ø–æ–∫\",\n    \"–∞—Ç–ª–∞—Å–Ω—ã–π\", \"–∞—Ç–ª–∞—Å–Ω–∞—è\", \"–∞—Ç–ª–∞—Å\",\n    \"—à–µ–ª–∫–æ–≤—ã–π\", \"—à—ë–ª–∫–æ–≤—ã–π\", \"—à–µ–ª–∫–æ–≤–∞—è\", \"—à—ë–ª–∫–æ–≤–∞—è\", \"—à–µ–ª–∫\", \"—à—ë–ª–∫\",\n    \"–±–∞—Ä—Ö–∞—Ç–∏—Å—Ç—ã–π\",\n    # english\n    \"leather\", \"eco leather\", \"faux leather\",\n    \"suede\", \"velvet\", \"denim\", \"knit\", \"linen\", \"wool\", \"cotton\",\n    \"satin\", \"silk\", \"silky\",\n]\n\n\ndef expand_sizes(size_str):\n    \"\"\"\n    –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —á–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã:\n    '38-40' -> [38, 39, 40]\n    '38, 40/42' -> [38, 40, 42]\n    \"\"\"\n    size_str = size_str.replace(\" \", \"\")\n    result = set()\n\n    for part in re.split(r\"[,/]\", size_str):\n        if \"-\" in part:\n            start, end = part.split(\"-\", 1)\n            if start.isdigit() and end.isdigit():\n                for num in range(int(start), int(end) + 1):\n                    result.add(num)\n        else:\n            if part.isdigit():\n                result.add(int(part))\n\n    return sorted(result)\n\n\ndef expand_letter_sizes_range(start_size, end_size):\n    \"\"\"\n    –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –±—É–∫–≤–µ–Ω–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤:\n    'S', 'XL' -> ['S', 'M', 'L', 'XL']\n    \"\"\"\n    start_size = start_size.upper()\n    end_size = end_size.upper()\n\n    if start_size not in LETTER_ORDER or end_size not in LETTER_ORDER:\n        # –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π ‚Äî –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ\n        return [start_size] if start_size in LETTER_ORDER else []\n\n    i1 = LETTER_ORDER.index(start_size)\n    i2 = LETTER_ORDER.index(end_size)\n\n    if i1 <= i2:\n        return LETTER_ORDER[i1:i2 + 1]\n    else:\n        # –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –¥–∏–∞–ø–∞–∑–æ–Ω —É–∫–∞–∑–∞–Ω –Ω–∞–æ–±–æ—Ä–æ—Ç: XL-S\n        return LETTER_ORDER[i2:i1 + 1]\n\n\ndef clean_price_int(value):\n    \"\"\"\n    –ü—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É —Ü–µ–Ω—ã –≤ int (15900 –∏–∑ '15.900‚ÇΩ' / '15 900 —Ä—É–±.')\n    \"\"\"\n    if not value:\n        return None\n\n    value = value.replace(\" \", \"\")\n    value = value.replace(\".\", \"\").replace(\",\", \"\")\n    value = re.sub(r\"[^\\d]\", \"\", value)\n\n    if value == \"\":\n        return None\n\n    return int(value)\n\n\ndef extract_colour(text):\n    \"\"\"\n    –ò—â–µ—Ç –≤ —Å—Ç—Ä–æ–∫–µ —Ü–≤–µ—Ç/—Ç–∏–ø (–∫–æ–∂–∞–Ω—ã–π, –±–∞—Ä—Ö–∞—Ç–Ω—ã–π –∏ —Ç.–ø.).\n    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É –≤–∏–¥–∞ '—á–µ—Ä–Ω—ã–π, –∫–æ–∂–∞–Ω—ã–π' –∏–ª–∏ None.\n    \"\"\"\n    if not text:\n        return None\n\n    t = text.lower()\n    found = []\n    seen = set()\n\n    # —Å–Ω–∞—á–∞–ª–∞ –∏—â–µ–º —Å–æ—Å—Ç–∞–≤–Ω—ã–µ —Ñ—Ä–∞–∑—ã (—Å –ø—Ä–æ–±–µ–ª–∞–º–∏/–¥–µ—Ñ–∏—Å–∞–º–∏)\n    composite_keywords = [\n        k for k in COLOUR_KEYWORDS + TYPE_KEYWORDS if \" \" in k or \"-\" in k\n    ]\n    simple_keywords = [\n        k for k in COLOUR_KEYWORDS + TYPE_KEYWORDS if \" \" not in k and \"-\" not in k\n    ]\n\n    # —Å–æ—Å—Ç–∞–≤–Ω—ã–µ ‚Äî –ø–æ –≤—Ö–æ–∂–¥–µ–Ω–∏—é –ø–æ–¥—Å—Ç—Ä–æ–∫–∏\n    for k in composite_keywords:\n        if k in t and k not in seen:\n            seen.add(k)\n            found.append(k)\n\n    # –ø—Ä–æ—Å—Ç—ã–µ ‚Äî –ø–æ —Å–ª–æ–≤–∞–º\n    for k in simple_keywords:\n        if re.search(r\"\\b\" + re.escape(k) + r\"\\b\", t) and k not in seen:\n            seen.add(k)\n            found.append(k)\n\n    if not found:\n        return None\n\n    # –ú–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∫–∞–∫ —Å–ø–∏—Å–æ–∫, –Ω–æ —É–¥–æ–±–Ω–µ–µ –∫–∞–∫ —Å—Ç—Ä–æ–∫—É\n    return \", \".join(found)\n\n\ndef parse_caption(text):\n    result_items = []\n\n    # 0. –£–±–∏—Ä–∞–µ–º —Ö–≤–æ—Å—Ç —Å –ø—Ä–∏–∑—ã–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –ø—Ä–∏–ª–∏–ø–∞–ª –∫ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É —Ç–æ–≤–∞—Ä—É\n    text = re.sub(r\"üì©.*$\", \"\", text, flags=re.S)\n    if \"Aleor_offline\" in text:\n        text = text.split(\"Aleor_offline\", 1)[0]\n\n    # –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –±–ª–æ–∫–∏ –ø–æ 5-–∑–Ω–∞—á–Ω–æ–º—É –Ω–æ–º–µ—Ä—É\n    product_blocks = re.findall(\n        r\"(\\d{5}.*?)(?=(?:\\d{5}\\s)|$)\",\n        text,\n        flags=re.S,\n    )\n\n    price_pattern = r\"(\\d[\\d.,]*\\s*(?:‚ÇΩ|RUB))\"\n\n    for block in product_blocks:\n        raw_line = \" \".join(block.split())\n\n        m_num = re.match(r\"(\\d{5})(?:\\s+(.*))?$\", raw_line)\n        if not m_num:\n            continue\n\n        base_number = m_num.group(1)       # —Å—Ç—Ä–æ–∫–∞ '00003'\n        rest = (m_num.group(2) or \"\").strip()\n\n        # –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –Ω–æ–º–µ—Ä –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è\n        if not rest:\n            result_items.append({\n                \"product_number\": base_number,\n                \"product_name\": \"\",\n                \"variant\": \"\",\n                \"size\": None,\n                \"price_new\": None,\n                \"price_old\": None,\n                \"raw_line\": raw_line,\n                \"colour\": None,\n            })\n            continue\n\n        # --- –¶–ï–ù–´ ---\n        all_prices = re.findall(price_pattern, raw_line)\n        price_new = None\n        price_old = None\n\n        if all_prices:\n            # –ü–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ ‚Äî –Ω–æ–≤–∞—è, –ø–æ—Å–ª–µ–¥–Ω—è—è ‚Äî —Å—Ç–∞—Ä–∞—è (–µ—Å–ª–∏ –µ—Å—Ç—å)\n            price_new = clean_price_int(all_prices[0])\n            if len(all_prices) > 1:\n                price_old = clean_price_int(all_prices[-1])\n\n        # --- –†–ê–ó–ú–ï–†–´ ---\n        sizes_list = []\n        size_type = None  # \"eu\" –∏–ª–∏ \"letter\"\n\n        # 1) –ü—Ä–æ–±—É–µ–º –Ω–∞–π—Ç–∏ —á–∏—Å–ª–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Å EU\n        m_eu = re.search(r\"([\\d\\s,\\/\\-]+)\\s*EU\", raw_line)\n        if m_eu:\n            eu_sizes = expand_sizes(m_eu.group(1))\n            if eu_sizes:\n                sizes_list = eu_sizes\n                size_type = \"eu\"\n        else:\n            # 2) –ü—Ä–æ–±—É–µ–º –±—É–∫–≤–µ–Ω–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã XXS‚ÄìXXL\n            m_letter = re.search(\n                r\"\\b(XXS|XS|S|M|L|XL|XXL)(?:\\s*-\\s*(XXS|XS|S|M|L|XL|XXL))?\\b\",\n                raw_line,\n                flags=re.I,\n            )\n            if m_letter:\n                s1 = m_letter.group(1).upper()\n                s2 = m_letter.group(2).upper() if m_letter.group(2) else None\n                size_type = \"letter\"\n\n                if s2:\n                    sizes_list = expand_letter_sizes_range(s1, s2)\n                else:\n                    sizes_list = [s1]\n\n        # m_letter –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –¥–∞–ª—å—à–µ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞:\n        m_letter = locals().get(\"m_letter\", None)\n\n        # --- –ù–ê–ó–í–ê–ù–ò–ï –¢–û–í–ê–†–ê (—Å—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–±, –∫–∞–∫ fallback) ---\n        num_end = m_num.end(1)  # –ø–æ–∑–∏—Ü–∏—è –∫–æ–Ω—Ü–∞ –Ω–æ–º–µ—Ä–∞\n        first_price_match = re.search(price_pattern, raw_line)\n\n        brand_cut_index = len(raw_line)\n\n        if first_price_match:\n            brand_cut_index = min(brand_cut_index, first_price_match.start())\n        if m_eu:\n            brand_cut_index = min(brand_cut_index, m_eu.start())\n        if m_letter:\n            brand_cut_index = min(brand_cut_index, m_letter.start())\n\n        product_name_old = raw_line[num_end:brand_cut_index].strip(\" ,\")\n        if not product_name_old and rest:\n            product_name_old = rest\n\n        # --- –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê –ë–†–ï–ù–î–ê (–° –£–ß–Å–¢–û–ú –†–ê–ó–ú–ï–†–û–í) ---\n        after_number_words = rest.split()\n        brand_words = []\n\n        for i, word in enumerate(after_number_words):\n            w = word.strip(\",.()\").upper()\n\n            # –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã (XXS‚ÄìXXL, S/M, L/XL –∏ —Ç.–ø.)\n            if w in LETTER_ORDER:\n                continue\n            if re.fullmatch(r\"(XXS|XS|S|M|L|XL|XXL)(/(XXS|XS|S|M|L|XL|XXL))?\", w):\n                continue\n\n            # –ò—â–µ–º –ø–µ—Ä–≤–æ–µ —Å–ª–æ–≤–æ —Å –ª–∞—Ç–∏–Ω–∏—Ü–µ–π\n            if re.search(r\"[A-Za-z]\", word):\n                brand_words.append(word)\n\n                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–ª–µ–¥—É—é—â–µ–µ —Å–ª–æ–≤–æ ‚Äî –µ—Å–ª–∏ –æ–Ω–æ —Ç–æ–∂–µ –ª–∞—Ç–∏–Ω–∏—Ü–∞ –∏ –Ω–µ —Ä–∞–∑–º–µ—Ä\n                if i + 1 < len(after_number_words):\n                    next_word = after_number_words[i + 1]\n                    next_w = next_word.strip(\",.()\").upper()\n\n                    if (re.search(r\"[A-Za-z]\", next_word) and\n                        next_w not in LETTER_ORDER and\n                        not re.fullmatch(r\"(XXS|XS|S|M|L|XL|XXL)(/(XXS|XS|S|M|L|XL|XXL))?\", next_w)):\n                        brand_words.append(next_word)\n\n                break\n\n        brand = \" \".join(brand_words).strip(\" ,\")\n\n        if brand:\n            product_name = brand\n        else:\n            # –µ—Å–ª–∏ –±—Ä–µ–Ω–¥–∞ –ø–æ –ª–∞—Ç–∏–Ω–∏—Ü–µ –Ω–µ –Ω–∞—à–ª–∏ ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É\n            product_name = product_name_old\n\n        variant = \"\"\n\n        # --- –¶–í–ï–¢ / –¢–ò–ü ---\n        colour = extract_colour(raw_line)\n\n        # --- –°–û–ó–î–ê–Å–ú ITEMS ---\n        if not sizes_list:\n            result_items.append({\n                \"product_number\": base_number,\n                \"product_name\": product_name,\n                \"variant\": variant,\n                \"size\": None,\n                \"price_new\": price_new,\n                \"price_old\": price_old,\n                \"raw_line\": raw_line,\n                \"colour\": colour,\n            })\n        else:\n            for s in sizes_list:\n                if size_type == \"eu\":\n                    size_value = str(s)\n                else:\n                    size_value = s  # 'XS', 'S', 'M', 'L', 'XL', ...\n\n                result_items.append({\n                    \"product_number\": base_number,\n                    \"product_name\": product_name,\n                    \"variant\": variant,\n                    \"size\": size_value,\n                    \"price_new\": price_new,\n                    \"price_old\": price_old,\n                    \"raw_line\": raw_line,\n                    \"colour\": colour,\n                })\n\n    # --- –°–æ–∑–¥–∞—ë–º id_item –ø–æ product_number ---\n    base_to_id = {}\n    current_id = 1\n\n    for item in result_items:\n        pn = item[\"product_number\"]\n        if pn not in base_to_id:\n            base_to_id[pn] = current_id\n            current_id += 1\n        item[\"id_item\"] = base_to_id[pn]\n\n    return {\"items\": result_items}\n\n\n# –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞—Ä—Å–µ—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è n8n\nparsed = parse_caption(caption)\n\nreturn [{\n    \"json\": parsed\n}]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        144,
        -528
      ],
      "id": "d4e46a27-02d1-482f-b5a3-8c3c3dc60175",
      "name": "Code in Python (Beta)1"
    },
    {
      "parameters": {
        "dataTableId": {
          "__rl": true,
          "value": "zF7GH0wSQFf9RjNG",
          "mode": "list",
          "cachedResultName": "TelegramAlbumBuffer",
          "cachedResultUrl": "/projects/J79gBJLVPPntD8dp/datatables/zF7GH0wSQFf9RjNG"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "media_group_id": "={{ $json.channel_post.media_group_id }}",
            "message_id": "={{ $json.channel_post.message_id }}",
            "chat_id": "={{ $json.channel_post.chat.id }}",
            "file_id": "={{ $json.channel_post.photo[3].file_id }}",
            "caption": "={{ $json.channel_post.caption }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "media_group_id",
              "displayName": "media_group_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "message_id",
              "displayName": "message_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "chat_id",
              "displayName": "chat_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "file_id",
              "displayName": "file_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "caption",
              "displayName": "caption",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -784,
        -288
      ],
      "id": "9c9479fb-9561-4306-843c-6ba255e221e6",
      "name": "Saving"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "21b191c0-db8b-47cf-b9ce-dcd26226cf2c",
              "leftValue": "={{ $json.channel_post.media_group_id }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -960,
        -96
      ],
      "id": "2647e9a1-e89c-4554-9e0c-5d2023057f9c",
      "name": "If"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "21b191c0-db8b-47cf-b9ce-dcd26226cf2c",
              "leftValue": "={{ $json.caption }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -640,
        -416
      ],
      "id": "f526c45f-c556-425d-af8f-ae950cd979eb",
      "name": "If2"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "zF7GH0wSQFf9RjNG",
          "mode": "list",
          "cachedResultName": "TelegramAlbumBuffer",
          "cachedResultUrl": "/projects/J79gBJLVPPntD8dp/datatables/zF7GH0wSQFf9RjNG"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "media_group_id",
              "keyValue": "={{ $json.media_group_id }}"
            }
          ]
        },
        "returnAll": true
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -240,
        -224
      ],
      "id": "4ff3e5b7-3ea2-49bc-84b2-22cd61f2002f",
      "name": "Get row(s)"
    },
    {
      "parameters": {
        "fieldToSplitOut": "=items",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        320,
        -528
      ],
      "id": "42d8e0a5-3397-49e4-b450-a210988149bb",
      "name": "Split Out"
    },
    {
      "parameters": {
        "operation": "get",
        "dataTableId": {
          "__rl": true,
          "value": "zF7GH0wSQFf9RjNG",
          "mode": "list",
          "cachedResultName": "TelegramAlbumBuffer",
          "cachedResultUrl": "/projects/J79gBJLVPPntD8dp/datatables/zF7GH0wSQFf9RjNG"
        },
        "matchType": "allConditions",
        "filters": {
          "conditions": [
            {
              "keyName": "media_group_id",
              "keyValue": "={{ $json.media_group_id }}"
            },
            {
              "keyName": "caption",
              "condition": "isNotEmpty"
            }
          ]
        },
        "returnAll": true
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        -48,
        -560
      ],
      "id": "5011b683-9406-44c5-8cc8-8f7c8c5b73e0",
      "name": "Get row(s)1"
    },
    {
      "parameters": {
        "fieldToSplitOut": "fotos",
        "include": "allOtherFields",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        192,
        -224
      ],
      "id": "7d87a193-68cf-49f2-973c-f411c5c7b9b2",
      "name": "Split Out2"
    },
    {
      "parameters": {
        "mode": "combine",
        "advanced": true,
        "mergeByFields": {
          "values": [
            {
              "field1": "items.id_item",
              "field2": "fotos.id_fotos"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        496,
        -304
      ],
      "id": "12af5067-4f28-41b2-8f99-d4a5dc15c0fb",
      "name": "Merge1"
    },
    {
      "parameters": {
        "operation": "deleteRows",
        "dataTableId": {
          "__rl": true,
          "value": "zF7GH0wSQFf9RjNG",
          "mode": "list",
          "cachedResultName": "TelegramAlbumBuffer",
          "cachedResultUrl": "/projects/J79gBJLVPPntD8dp/datatables/zF7GH0wSQFf9RjNG"
        },
        "filters": {
          "conditions": [
            {
              "condition": "isNotEmpty"
            }
          ]
        },
        "options": {
          "dryRun": false
        }
      },
      "type": "n8n-nodes-base.dataTable",
      "typeVersion": 1,
      "position": [
        1104,
        -176
      ],
      "id": "18cd2797-932c-411e-97d1-50bce9f3e939",
      "name": "Delete row(s)"
    },
    {
      "parameters": {
        "operation": "create",
        "base": {
          "__rl": true,
          "value": "appQu6xEHi6aHAuDM",
          "mode": "list",
          "cachedResultName": "Product Catalog",
          "cachedResultUrl": "https://airtable.com/appQu6xEHi6aHAuDM"
        },
        "table": {
          "__rl": true,
          "value": "tblbMlEHH6iZ0D0na",
          "mode": "list",
          "cachedResultName": "Products",
          "cachedResultUrl": "https://airtable.com/appQu6xEHi6aHAuDM/tblbMlEHH6iZ0D0na"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Product Photo": "={{ $json.product_photo }}",
            "product_number": "={{ $json.items.product_number }}",
            "Size": "={{ $json.items.size }}",
            "Price": "={{ $json.items.price_new }}",
            "Brand": "={{ $json.items.product_name }}",
            "Colour": "={{ $json.items.colour }}",
            "Description": "={{ $json.items.raw_line }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "product_number",
              "displayName": "product_number",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Title",
              "displayName": "Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Brand",
              "displayName": "Brand",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Category",
              "displayName": "Category",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "–∫—Ä–æ—Å—Å–æ–≤–∫–∏",
                  "value": "–∫—Ä–æ—Å—Å–æ–≤–∫–∏"
                },
                {
                  "name": "–∫—É—Ä—Ç–∫–∞",
                  "value": "–∫—É—Ä—Ç–∫–∞"
                },
                {
                  "name": "—Ç–æ–ª—Å—Ç–æ–≤–∫–∞",
                  "value": "—Ç–æ–ª—Å—Ç–æ–≤–∫–∞"
                },
                {
                  "name": "–∞–∫—Å–µ—Å—Å—É–∞—Ä",
                  "value": "–∞–∫—Å–µ—Å—Å—É–∞—Ä"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Description",
              "displayName": "Description",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Product Photo",
              "displayName": "Product Photo",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Post URL",
              "displayName": "Post URL",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Product Summary (AI)",
              "displayName": "Product Summary (AI)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Product Category Tags (AI)",
              "displayName": "Product Category Tags (AI)",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Variants",
              "displayName": "Variants",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Inventory",
              "displayName": "Inventory",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "array",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Stock",
              "displayName": "Stock",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Size",
              "displayName": "Size",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Price",
              "displayName": "Price",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "number",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Colour",
              "displayName": "Colour",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "active",
                  "value": "active"
                },
                {
                  "name": "archived",
                  "value": "archived"
                },
                {
                  "name": "draft",
                  "value": "draft"
                }
              ],
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Created At",
              "displayName": "Created At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Updated At",
              "displayName": "Updated At",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": true
            },
            {
              "id": "Days Since Update",
              "displayName": "Days Since Update",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Is Active?",
              "displayName": "Is Active?",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            },
            {
              "id": "Short Description",
              "displayName": "Short Description",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "typecast": true
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        1520,
        -624
      ],
      "id": "a300f527-4d88-47f5-8ff0-3a1031ca27c9",
      "name": "Create a record",
      "credentials": {
        "airtableTokenApi": {
          "id": "wdLyI0SCjf0ywCzo",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "resource": "file",
        "fileId": "={{ $json.fotos.file_id }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        816,
        -624
      ],
      "id": "00257b14-8a6a-4146-a5ad-8a6190aefc8b",
      "name": "Get a file",
      "webhookId": "5241f09c-8622-45dd-b5d1-d4c6042dce9e",
      "credentials": {
        "telegramApi": {
          "id": "Ejv7EdkKEnx1aMu6",
          "name": "Rely2026_bot"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// Function / Code node\n\n// –ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ —Ç–æ–∫–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (–∏–ª–∏ –≤–∑—è—Ç—å –∏–∑ $env, –µ—Å–ª–∏ —Ö–æ—á–µ—à—å)\nconst BOT_TOKEN = '8118258878:AAHqnLvF2NzMBqP11exKwFf8jXM2DpU4hQI';\n\nreturn items.map(item => {\n  const filePath = item.json.result?.file_path;\n\n  // –ù–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ –Ω–µ—Ç file_path ‚Äî —á—Ç–æ–±—ã –Ω–æ–¥–∞ –Ω–µ –ø–∞–¥–∞–ª–∞\n  const product_photo = filePath\n    ? [\n        {\n          url: `https://api.telegram.org/file/bot${BOT_TOKEN}/${filePath}`\n        }\n      ]\n    : [];\n\n  return {\n    json: {\n      ...item.json,\n      product_photo,\n    }\n  };\n});\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1008,
        -624
      ],
      "id": "a032c707-cfbb-48ee-9b3d-ccccabc52e0d",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1200,
        -544
      ],
      "id": "1a9772f0-4167-43ca-907a-180166e1af81",
      "name": "Merge"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -448,
        -688
      ],
      "id": "067d15eb-fa1f-44c9-a18a-abb9774e9110",
      "name": "No Operation, do nothing"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "f4e60f08-4540-4b2d-9644-350bd22cd9d0",
              "leftValue": "={{ $json.caption }}",
              "rightValue": "Aleor_offline",
              "operator": {
                "type": "string",
                "operation": "contains"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -448,
        -512
      ],
      "id": "59f75192-cb04-49db-a9b1-607fd2441a9b",
      "name": "If1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        -576,
        160
      ],
      "id": "ee7ba5fe-ae1c-4376-96bc-545d31c32293",
      "name": "No Operation, do nothing1"
    },
    {
      "parameters": {
        "content": "##  –î–æ–¥–µ–ª–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–ª—è –µ–¥–∏–Ω–∏—á–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞\n\n",
        "height": 352,
        "width": 448
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -704,
        32
      ],
      "id": "e49619b5-92e3-4392-8556-422cc85e7fb9",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "chatId": "=976192165",
        "text": "‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–Ω–µ—Å–µ–Ω—ã –≤ –±–∞–∑—É!",
        "additionalFields": {
          "appendAttribution": false
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        944,
        -176
      ],
      "id": "98c44941-d2b6-4ab9-8aeb-4c8285a46470",
      "name": "Send a text message",
      "webhookId": "1e5889f3-09f0-4ce7-930c-77cefef8b395",
      "credentials": {
        "telegramApi": {
          "id": "Ejv7EdkKEnx1aMu6",
          "name": "Rely2026_bot"
        }
      }
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "loose",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "0e27ae08-9888-4cf3-a607-b9b168389538",
                    "leftValue": "={{ $json.items.id_item }}",
                    "rightValue": "1",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        768,
        -176
      ],
      "id": "2a8cc337-5578-461e-9eca-f59a9069fa75",
      "name": "Switch"
    },
    {
      "parameters": {
        "content": "##  –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?\n\n###  1. –ü–æ–º–µ–Ω—è—Ç—å –±–æ—Ç–∞ –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∏ –ø–µ—Ä–µ–¥–∞—Ç—å –í–∞–Ω–µ. \n###  2. –ü–æ–º–µ–Ω—è—Ç—å –±–∞–∑—É Airtable. \n###  3. –î–æ–±–∞–≤–∏—Ç—å 1 –±–æ—Ç–∞ –≤ —á–∞—Ç –∞ –¥—Ä—É–≥–æ–≥–æ –≤ —á–∞—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.\n ",
        "height": 352,
        "width": 448
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        624,
        176
      ],
      "id": "db2e6738-9721-40ff-ab3b-eeb518068b7c",
      "name": "Sticky Note1"
    }
  ],
  "pinData": {},
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait1": {
      "main": [
        [
          {
            "node": "Get row(s)",
            "type": "main",
            "index": 0
          },
          {
            "node": "Get row(s)1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Saving": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Saving",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Code in Python (Beta)1": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)": {
      "main": [
        [
          {
            "node": "Code in Python (Beta)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s)1": {
      "main": [
        [
          {
            "node": "Code in Python (Beta)1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in Python (Beta)": {
      "main": [
        [
          {
            "node": "Split Out2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out2": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "Get a file",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          },
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get a file": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Create a record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Wait1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send a text message": {
      "main": [
        [
          {
            "node": "Delete row(s)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "a130800c-9116-4619-b39f-48f0ef14a3a6",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "15d29ab73eb87eebab7ab53c6e981506a5ed8bb651e3ee6b4da7ff4e437920ef"
  },
  "id": "xNHquvOWIsX3dR7c",
  "tags": []
}